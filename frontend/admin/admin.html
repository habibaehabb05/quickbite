<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="admin.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
</head>
<body>
  <div class="sidebar">
    <h2>Admin Panel</h2>
    <ul>
      <li onclick="showSection('dashboard')"><i class="fas fa-chart-line"></i> Dashboard</li>
      <li onclick="showSection('restaurants')"><i class="fas fa-utensils"></i> Restaurants</li>
      <li onclick="showSection('orders')"><i class="fas fa-shopping-bag"></i> Orders</li>
      <li onclick="showSection('users')"><i class="fas fa-users"></i> Users</li>
    </ul>
    <div class="sidebar-footer">
      <button class="profile-btn" onclick="openProfileModal()">
        <i class="fas fa-user-circle"></i> Profile
      </button>
      <button class="logout-btn" onclick="confirmLogout()">
        <i class="fas fa-sign-out-alt"></i> Log Out
      </button>
    </div>
  </div>

  <div class="main">
    <section id="dashboard" class="section active">
      <h1>Dashboard Overview</h1>
      <div class="dashboard-cards">
        <div class="dashboard-card" id="userCount">Users: 2</div>
        <div class="dashboard-card" id="restaurantCount">Restaurants: 2</div>
        <div class="dashboard-card" id="orderCount">Orders: 2</div>
        <div class="dashboard-card" id="pendingOrders">Pending Orders: 1</div>
      </div>
      
      <!-- Analytics Chart Section -->
      <div class="analytics-container">
        <div class="analytics-header">
          <h2>Orders & Revenue Analytics</h2>
          <select class="time-filter">
            <option value="week">This Week</option>
            <option value="month">This Month</option>
            <option value="year">This Year</option>
          </select>
        </div>
        <div id="analytics-chart" style="width: 100%; height: 300px;"></div>
      </div>

      <!-- Popular Restaurants -->
      <div class="popular-restaurants">
        <h2>Popular Restaurants</h2>
        <div class="restaurant-grid">
          <div class="restaurant-thumbnail" onclick="goToRestaurantPanel('my-corner.html')">
            <div class="restaurant-img">
              <i class="fas fa-store fa-3x"></i>
            </div>
            <div class="restaurant-name">My Corner</div>
          </div>
          <div class="restaurant-thumbnail" onclick="goToRestaurantPanel('r-to-go.html')">
            <div class="restaurant-img">
              <i class="fas fa-hamburger fa-3x"></i>
            </div>
            <div class="restaurant-name">R to go</div>
          </div>
          <div class="restaurant-thumbnail" onclick="goToRestaurantPanel('gyro.html')">
            <div class="restaurant-img">
              <i class="fas fa-pizza-slice fa-3x"></i>
            </div>
            <div class="restaurant-name">Gyro</div>
          </div>
          <div class="restaurant-thumbnail" onclick="goToRestaurantPanel('add-new.html')">
            <div class="restaurant-img">
              <i class="fas fa-plus fa-3x"></i>
            </div>
            <div class="restaurant-name">Add New</div>
          </div>
        </div>
      </div>
    </section>
    

    <section id="restaurants" class="section">
      <h1>Manage Restaurants</h1>
      <button class="add-restaurant-btn"><i class="fas fa-plus"></i> Add Restaurant</button>
      <div class="restaurant-list">
        <div class="restaurant-card">
          <h2>My Corner</h2>
          <p><span class="status-indicator status-active">Open</span></p>
          <button class="edit-btn">Edit</button>
          <div class="edit-options">
            <button class="rename-btn">Rename</button>
            <button class="status-btn">Toggle Status</button>
            <button class="remove-btn">Remove</button>
          </div>
        </div>
        <div class="restaurant-card">
          <h2>R to go</h2>
          <p><span class="status-indicator status-active">Open</span></p>
          <button class="edit-btn">Edit</button>
          <div class="edit-options">
            <button class="rename-btn">Rename</button>
            <button class="status-btn">Toggle Status</button>
            <button class="remove-btn">Remove</button>
          </div>
        </div>
      </div>
    </section>

    <section id="orders" class="section">
      <h1>Orders</h1>
      <div class="filters-container">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="orderSearchInput" placeholder="Search by user or restaurant">
        </div>
        <select id="statusFilter" class="filter-select">
          <option value="">All Statuses</option>
          <option value="Pending">Pending</option>
          <option value="Completed">Completed</option>
          <option value="Cancelled">Cancelled</option>
        </select>
      </div>
      <table id="orderTable" class="data-table">
        <thead>
          <tr>
            <th>User</th>
            <th>Restaurant</th>
            <th>Amount</th>
            <th>Time</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- This will be populated by JavaScript -->
        </tbody>
      </table>
    </section>
    

    <section id="users" class="section">
      <h1>User Management</h1>
      <div class="filters-container">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="userSearchInput" placeholder="Search users">
        </div>
        <button id="addUserBtn" class="btn btn-primary"><i class="fas fa-user-plus"></i> Add User</button>
      </div>
      <table id="userTable" class="data-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- This will be populated by JavaScript -->
        </tbody>
      </table>
    </section>
  </div>

  <!-- Modals -->
  <!-- Profile Modal -->
  <div id="profileModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Edit Profile</h3>
      <input type="text" id="profileUsername" placeholder="Username">
      <input type="email" id="profileEmail" placeholder="Email">
      <input type="password" id="profilePassword" placeholder="New Password">
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="saveProfileChanges()">Save Changes</button>
        <button class="btn btn-secondary" onclick="closeModal('profileModal')">Discard</button>
      </div>
    </div>
  </div>

  <!-- Logout Confirmation Modal -->
  <div id="logoutModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Confirm Logout</h3>
      <p>Are you sure you want to log out?</p>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="logout()">Yes</button>
        <button class="btn btn-secondary" onclick="closeModal('logoutModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Edit Role Modal -->
  <div id="editRoleModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Edit User Role</h3>
      <div class="radio-group">
        <div class="radio-option">
          <input type="radio" id="roleStaff" name="role" value="Staff">
          <label for="roleStaff">Staff</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="roleManager" name="role" value="Manager">
          <label for="roleManager">Manager</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="roleAdmin" name="role" value="Admin">
          <label for="roleAdmin">Admin</label>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" onclick="saveRoleChange()">Save</button>
        <button class="btn btn-secondary" onclick="closeModal('editRoleModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Delete Order Confirmation Modal -->
  <div id="deleteOrderModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Confirm Deletion</h3>
      <p>Are you sure you want to delete this Order?</p>
      <div class="modal-actions">
        <button class="btn btn-primary" id="confirmDeleteOrder">Yes</button>
        <button class="btn btn-secondary" onclick="closeModal('deleteOrderModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Change Order Status Modal -->
  <div id="changeStatusModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Change Order Status</h3>
      <div class="radio-group">
        <div class="radio-option">
          <input type="radio" id="statusPending" name="orderStatus" value="Pending">
          <label for="statusPending">Pending</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="statusCompleted" name="orderStatus" value="Completed">
          <label for="statusCompleted">Completed</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="statusCancelled" name="orderStatus" value="Cancelled">
          <label for="statusCancelled">Cancelled</label>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" id="saveOrderStatus">Save</button>
        <button class="btn btn-secondary" onclick="closeModal('changeStatusModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Add User Modal -->
  <div id="addUserModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Add New User</h3>
      <input type="text" id="newUserName" placeholder="Name" required>
      <input type="email" id="newUserEmail" placeholder="Email" required>
      <div class="radio-group">
        <div class="radio-option">
          <input type="radio" id="newUserStudent" name="newUserRole" value="Student" checked>
          <label for="newUserStudent">Student</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="newUserStaff" name="newUserRole" value="Staff">
          <label for="newUserStaff">Staff</label>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn btn-primary" id="confirmAddUser">Add User</button>
        <button class="btn btn-secondary" onclick="closeModal('addUserModal')">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Add Restaurant Modal -->
  <div id="addRestaurantModal" class="modal">
    <div class="modal-content">
      <h3 class="modal-title">Add New Restaurant</h3>
      <input type="text" id="newRestaurantName" placeholder="Restaurant Name" required>
      <div class="modal-actions">
        <button class="btn btn-primary" id="confirmAddRestaurant">Add Restaurant</button>
        <button class="btn btn-secondary" onclick="closeModal('addRestaurantModal')">Cancel</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="admin.js"></script>
</body>
</html>